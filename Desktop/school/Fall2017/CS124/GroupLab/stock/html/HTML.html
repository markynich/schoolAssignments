<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Stock Market - Group Project: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stock Market - Group Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="contents">
<div class="textblock"><pre class="fragment">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;cs124 Stockz Lab&lt;/title&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;script type="text/javascript"&gt;
  function newData() {
  var dataTable = document.getElementById("dataTable");
  var r = dataTable.insertRow(0);
  var c1 = dataTable.insertRow(0);

  var inputValue = document.getElementById("Stock");
  var strValue = inputValue.options[inputValue.selectedIndex].value;
  
  c1.innerHTML = "hello";
}

function CheckBrowser() {
  if('localStorage' in window &amp;&amp; window ['localStorage'] !== null) {
    // we can use local storage
    console.log('local storage works');
    return true;
  }
  else {
    return false;
  }
}

function getStocks(){
  var stocks = new Array;
  var stocks_str= localStorage.getItem('stock');
  console.log(stocks_str);
  if (stocks_str !== null) {
    stocks = JSON.parse(stocks_str);
  }
  return stocks;
}

function getNames(){
  var names = new Array;
  var names_str= localStorage.getItem('name');
  console.log(names_str);
  if (names_str !== null) {
    names = JSON.parse(names_str);
  }
  return names;
}

function getShares(){
  var shares = new Array;
  var shares_str= localStorage.getItem('shares');
  console.log(shares_str);
  if (shares_str !== null) {
    shares = JSON.parse(shares_str);
  }
  return shares;
}

function getTypes(){
  var types = new Array;
  var types_str= localStorage.getItem('type');
  console.log(types_str);
  if (types_str !== null) {
    types = JSON.parse(types_str);
  }
  return types;
}

function getPrices(){
  var prices = new Array;
  var prices_str= localStorage.getItem('price');
  console.log(prices_str);
  if (prices_str !== null) {
    prices = JSON.parse(prices_str);
  }
  return prices;
}

function add() {
  var stock = document.getElementById('Stock').value;

  var stocks = getStocks();
  stocks.push(stock);
  localStorage.setItem('stock', JSON.stringify(stocks));

  var name = document.getElementById('name').value;

  var names = getNames();
  names.push(name);
  localStorage.setItem('name', JSON.stringify(names));

  var share = document.getElementById('shares').value;

  var shares = getShares();
  var shareInt = parseInt(share);
  share = shareInt;
  shares.push(share);
  localStorage.setItem('shares', JSON.stringify(shares));

  var type = document.querySelector('input[name = "o"]:checked').value;

  var types = getTypes();
  types.push(type);
  localStorage.setItem('type', JSON.stringify(types));

  var price = document.getElementById('price').value;
  var priceInt = parseInt(price);
  price = priceInt;
  var prices = getPrices();
  prices.push(price);
  localStorage.setItem('price', JSON.stringify(prices));

  addData();
  show();
}

function show() {
  var stocks = getStocks();
  var names = getNames();
  var shares = getShares();
  var types = getTypes();
  var prices = getPrices();

  /*
  var html = "";
  for ( var i = 0; i &lt;= stocks.length - 1; i++) {
    html += "&lt;tr&gt;&lt;td&gt;" + stocks[i] + "&lt;/td&gt;&lt;td&gt;" + names[i] +
        "&lt;/td&gt;&lt;td&gt;" + shares[i] + "&lt;/td&gt;&lt;td&gt;" + types[i] +
        "&lt;/td&gt;&lt;td&gt;" + prices[i] + "&lt;/td&gt;&lt;/tr&gt;";
  }
  document.getElementById('dataTable').innerHTML = html;
  */
  var table = document.getElementById("dataTable");

  var rowIndex = 1;
  for ( var i = 0; i &lt;= stocks.length - 1; i++) {
    var r = table.insertRow(rowIndex);
    var c1 = r.insertCell(0);
    var c2 = r.insertCell(1);
    var c3 = r.insertCell(2);
    var c4 = r.insertCell(3);
    var c5 = r.insertCell(4);

    c1.innerHTML = stocks[i];
    c2.innerHTML = names[i];
    c3.innerHTML = shares[i];
    c4.innerHTML = types[i];
    c5.innerHTML = prices[i];
    rowIndex++;
  }
}

var dpB = []; // data points Buys
var dpS = []; // data points Sells

function pushData() {
  var types = getTypes();
  var prices = getPrices();
  var shares = getShares();
  for ( var i = dpB.length; i &lt; prices.length; i++ ) {
    var sharesToInt = parseInt(shares[i]);
    var pricesToInt = parseInt(prices[i]);
    if (types[i] == "Buy") {
      dpB.push({
        x: sharesToInt,
        y: pricesToInt
      });
    }
    else if (types[i] == "Sell") {
      dpS.push({
        x: sharesToInt,
        y: pricesToInt
      });
    }
  }
}

function addData() {
  pushData();
  chart.options.data[0].dataPoints = dpB;
  chart.options.data[1].dataPoints = dpS;
  chart.render();
}

var chart;
window.onload = function(){
  CheckBrowser();
  //localStorage.clear();
  chart = new CanvasJS.Chart("chartContainer",
    {
      title:{
      text: "Amazon"  
      },
      data: [
      {        
        type: "bar",
        dataPoints: dpB
      },
      {        
        type: "bar",
        dataPoints: dpS
      }]
    });
    chart.render();
  show();
  addData();
}

//addData();
  &lt;/script&gt;
  &lt;script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"&gt;&lt;/script&gt;
  &lt;link rel="stylesheet" type="text/css" href="main.css"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="home"&gt;
  &lt;ul class="nav"&gt;
    &lt;li&gt;&lt;a href=""&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=""&gt;Profile&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=""&gt;Trades&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=""&gt;Logout&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;h1&gt;Stockz&lt;/h1&gt;
  &lt;hr&gt;
  &lt;div class="stockTable-1"&gt;
    &lt;h1&gt;EEEE-TRADE&lt;/h1&gt;
    &lt;div class="menu"&gt;
      &lt;form name=ShoppingMenu action="/cgi-bin/stock"&gt;
        &lt;div&gt;
          &lt;label&gt;Choose Stock:&lt;/label&gt;
          &lt;select id="Stock" name="Stock"&gt;
            &lt;option value="Amazon"&gt;Amazon&lt;/option&gt;
            &lt;option value="Nvidia"&gt;Nvidia&lt;/option&gt;
            &lt;option value="BitCoin"&gt;BitCoin&lt;/option&gt;
            &lt;option value="Ohlone"&gt;Ohlone&lt;/option&gt;
            &lt;option value="Ganja4Lyfe"&gt;Ganja4Lyfe&lt;/option&gt;
          &lt;/select&gt;
          &lt;/div&gt;
        &lt;input type="radio" id="Buy" name="o" value="Buy"&gt;Buy
        &lt;input type="radio" id="Sell" name="o" value="Sell"&gt;Sell
        &lt;div&gt;
        &lt;label&gt;Name:&lt;/label&gt;&lt;input type="text" id="name" name="n"&gt;
          &lt;div&gt;
            &lt;label&gt;Shares:&lt;/label&gt;&lt;input type="text" id="shares" name="Z"&gt;
          &lt;/div&gt;
          &lt;div&gt;
            &lt;label&gt;Price:&lt;/label&gt;&lt;input type="text" id="price" name="p"&gt;&lt;input type="submit" value="Go" onclick="add()"&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/form&gt;
    &lt;/div&gt;
    &lt;div class="stockTable"&gt;
      &lt;div id="chartContainer" style="height: 360px; width: 100%;"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;div class="stockTable"&gt;
  &lt;h1&gt;Stock Request&lt;/h1&gt;
  &lt;table id="dataTable"&gt;
  &lt;tr&gt;
    &lt;th&gt;Stock:&lt;/th&gt;
    &lt;th&gt;Name:&lt;/th&gt;
    &lt;th&gt;Shares:&lt;/th&gt;
    &lt;th&gt;Type:&lt;/th&gt;
    &lt;th&gt;Price:&lt;/th&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 8 2017 21:02:38 for Stock Market - Group Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
